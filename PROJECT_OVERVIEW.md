# RyugakuTalk プロジェクト概要

## 📌 プロジェクト名

**RyugakuTalk** - 留学支援Webプラットフォーム

---

## 🎯 コンセプト

### 大コンセプト

**留学中・留学希望者・関係者が質問・共有・交流できる安全なオンラインコミュニティプラットフォーム**

留学という人生の大きな挑戦において、情報共有、経験の蓄積、そして安全なコミュニティ形成を支援することを目的としています。個人アカウントから組織アカウントまで、様々なユーザータイプに対応し、多様なニーズに応える包括的なプラットフォームを目指しています。

### 小コンセプト1: 安全性の重視

留学中の学生の安全を最優先に考慮した設計思想です。災害・テロ発生時などに、組織アカウント（教育機関・企業・政府機関）が現地留学生の安否を確認できる「安否確認機能」を実装しています。また、適切な権限管理と認証システムにより、安全で信頼性の高いコミュニティ環境を提供します。

### 小コンセプト2: 視覚的な情報発見

地図上での投稿可視化により、地理的な情報を直感的に把握できる「眺める（マップ）機能」を実装しています。世界中のユーザーの活動（日記、つぶやき）や「困りごと（質問）」を地図上で視覚的に発見でき、リアルタイム性を強調した表示により、24時間以内の投稿には特別な表示を行います。

---

## 🚀 主要機能

### 1. 認証・ユーザー管理機能

- **メールアドレス認証**: メールアドレスとパスワードによる登録・ログイン
- **多様なアカウントタイプ**: 個人、教育機関、企業、政府機関の4種類をサポート
- **認証プロセス**: 組織アカウントには認証審査プロセスを実装
- **プロフィール管理**: 詳細なプロフィール情報の表示・編集

### 2. タイムライン・投稿機能

- **投稿カテゴリ**: 質問、日記、つぶやき、情報共有、公式投稿の5カテゴリ
- **Markdown対応**: 日記と公式投稿ではMarkdown形式での記述を可能に
- **画像アップロード**: 最大4枚の画像を投稿に添付可能
- **解決済み機能**: 質問投稿に解決済みステータスを追加
- **緊急度設定**: 質問投稿に緊急度（低、通常、高、緊急）を設定可能

### 3. 眺める（マップ）機能

- **地理的な可視化**: 実際の地球の地図上に投稿を表示
- **優先順位表示**: 未解決の質問を最優先で表示
- **視覚的な区別**: 投稿タイプと緊急度を色・形状・アニメーションで表現
- **リアルタイム性の強調**: 24時間以内の投稿に特別な表示

### 4. コミュニティ機能

- **多様なコミュニティ**: 地域、大学、目的別のコミュニティをサポート
- **メンバーシップ管理**: 承認制・オープン制の選択
- **イベント・クエスト**: コミュニティ内での活動を促進
- **管理者権限**: コミュニティ作成者による管理機能

### 5. AIコンシェルジュ機能

- **多モード対応**: チャット、日記作成、質問サポートの3モード
- **Markdownエディタ連携**: 日記作成時は直接エディタに挿入
- **過去ログの活用**: 過去の投稿・コメントを学習データとして活用

### 6. 通知機能

- **多様な通知タイプ**: 運営、コミュニティ、緊急、DMなど
- **リアルタイム更新**: Supabase Realtimeによる即座の通知
- **未読管理**: 未読通知数の表示と既読管理

### 7. 安否確認機能

- **組織アカウント専用**: 認証済みの組織アカウントのみが利用可能
- **位置情報連動**: コミュニティ、地理的エリア、特定ユーザーを対象に設定
- **定期送信**: 定期的な安否確認を自動化
- **リアルタイム監視**: 回答状況をリアルタイムで監視

### 8. チャット機能

- **リアルタイム通信**: Supabase Realtimeによる即座のメッセージ送受信
- **未読管理**: 未読メッセージ数の表示
- **通知連携**: 新規DM受信時に通知を送信

### 9. 検索・フィルタリング機能

- **キーワード検索**: タイトル・本文での検索
- **カテゴリフィルター**: 質問、日記、つぶやきなど
- **国（留学先）フィルター**: 留学先による絞り込み
- **大学フィルター**: 大学による絞り込み
- **並び替え**: 新しい順・古い順・人気順

### 10. 多言語対応

- **対応言語**: 日本語・英語
- **動的言語切替**: ユーザーが自由に言語を切り替え可能
- **i18next**: 国際化ライブラリを使用

---

## 🛠 技術要件の概要

### フロントエンド

| 技術 | バージョン | 用途 |
|------|-----------|------|
| React | 18 | UI構築 |
| Next.js | 14.0.4 | SSR・ルーティング |
| TypeScript | 5 | 型安全性 |
| Tailwind CSS | 3.3.0 | スタイリング |
| i18next | 23.7.6 | 多言語対応 |

### バックエンド・インフラ

| 技術 | 用途 |
|------|------|
| Next.js API Routes | サーバーサイドロジック |
| Supabase | BaaS（認証・データベース・リアルタイム通信） |
| PostgreSQL | リレーショナルデータベース |
| Supabase Auth | ユーザー認証 |
| Supabase Realtime | リアルタイム通信 |

### その他の技術

| 技術 | 用途 |
|------|------|
| Leaflet / React-Leaflet | 地図表示 |
| react-markdown | Markdownレンダリング |

### デプロイ環境

- **現在**: Vercel（無料枠）
- **移行予定**: レンタルサーバー（2ヶ月間）

---

## 💡 工夫・特徴的な実装

### 1. リアルタイム通信の活用

Supabase Realtimeを活用し、チャット機能や通知機能において即座の更新を実現しています。ユーザーはページをリロードすることなく、最新の情報を取得できます。

### 2. 多様なアカウントタイプへの対応

個人アカウントから組織アカウント（教育機関・企業・政府機関）まで、様々なユーザータイプに対応した柔軟な権限管理システムを実装しています。組織アカウントには認証プロセスを設け、信頼性の高いコミュニティ形成を支援します。

### 3. 視覚的な情報発見

地図上での投稿可視化により、地理的な情報を直感的に把握できる「眺める（マップ）機能」を実装しています。緊急度や投稿タイプを色・形状・アニメーションで表現し、ユーザーが重要な情報を素早く発見できるよう工夫しています。

### 4. レスポンシブデザイン

モバイル、タブレット、デスクトップに対応したレスポンシブデザインを実装しています。画面サイズに応じてナビゲーションやUI要素を最適化し、どのデバイスからでも快適に利用できるよう配慮しています。

### 5. 貢献度システム

投稿やコメントなどの活動に応じて貢献度スコアを付与し、ユーザーのモチベーション維持を図っています。スコアはプロフィールに表示され、コミュニティへの貢献度を可視化しています。

### 6. 安全性を重視した設計

安否確認機能により、災害・テロ発生時などに組織アカウントが現地留学生の安否を迅速に確認できる仕組みを実装しています。定期送信機能により、継続的な安否確認も可能です。

### 7. AI支援機能

過去のログを学習したAIによる回答生成、日記作成サポート、質問サポートを提供しています。Markdownエディタと連携し、ユーザーの作業効率を向上させます。

### 8. 多言語対応

日本語・英語に対応し、動的な言語切替を実装しています。留学という国際的な環境において、多様な言語背景を持つユーザーをサポートします。

---

## 📅 リリース・ユーザーフィードバック

### 開発段階

**現在のステータス**: MVP完成 → 本番環境移行準備中

### 実装完了機能（MVP）

✅ **認証システム**
- メールアドレスでの新規登録・ログイン
- プロフィール自動作成
- セッション管理
- ログアウト機能

✅ **プロフィール機能**
- プロフィール表示・編集
- 貢献度システム（投稿+10pt、コメント+5pt）
- 統計情報表示

✅ **掲示板機能**
- 投稿作成（質問・留学日記・情報共有）
- 投稿一覧・詳細表示
- コメント機能
- いいね機能
- 検索・フィルタリング

✅ **チャット機能**
- ユーザー検索（ID・タグ）
- メッセージ送受信
- 会話一覧表示
- 未読メッセージ数表示
- リアルタイム更新

✅ **UI/UX**
- レスポンシブデザイン（モバイル対応）
- 多言語対応（日本語・英語）
- ナビゲーション
- エラーハンドリング

### デプロイ状況

- **開発環境**: Vercel（無料枠）でデプロイ済み
- **本番環境**: レンタルサーバーへの移行準備中

### ユーザーフィードバック

現在、内部テスト段階のため、本格的なユーザーフィードバックの収集はこれからです。正式リリース後、以下のフィードバックを収集予定です：

- 機能の使いやすさ
- UI/UXの改善点
- 追加してほしい機能
- バグ報告
- パフォーマンスに関する意見

---

## 🗺 今後の開発・運用ロードマップ

### 短期目標（1-2ヶ月）

#### 1. レンタルサーバー移行 ✅優先

- [ ] 環境構築
  - レンタルサーバー仕様の確認
  - データベース種別の確認（MySQL/MariaDB/PostgreSQL）
  - Node.jsバージョンの確認
  - 接続情報の取得
- [ ] コード修正
  - データベース接続の変更（Supabase → 直接接続）
  - 認証システムの移行（Supabase Auth → NextAuth.js等）
  - 環境変数の更新
  - ビルド設定の調整
- [ ] デプロイ
  - レンタルサーバーへのデプロイ
  - SSL証明書の設定
  - 環境変数の設定
  - 動作確認
- [ ] データ移行
  - 既存データのエクスポート
  - データ変換・インポート
  - データ整合性チェック

#### 2. 試運転（ベータテスト）

- [ ] 内部テスト（開発チーム）
- [ ] クローズドベータ（限定ユーザー）
- [ ] バグ修正
- [ ] パフォーマンス最適化

#### 3. 正式リリース準備

- [ ] ドキュメント整備
- [ ] 利用規約・プライバシーポリシー作成
- [ ] ヘルプページ作成
- [ ] サポート体制の構築

### 中期目標（3-6ヶ月）

#### 1. ユーザー獲得

- [ ] マーケティング施策
- [ ] SNS拡散
- [ ] 大学への案内
- [ ] ユーザー招待プログラム

#### 2. 機能拡張

- [ ] 管理機能の実装
  - 投稿削除機能（管理者）
  - コメント削除機能（管理者）
  - 通報処理機能
  - ユーザー管理機能
  - 統計ダッシュボード
- [ ] 通知機能の強化
  - 新着コメント通知
  - メッセージ通知
  - いいね通知
  - リアルタイム通知（ブラウザ通知）
- [ ] 画像機能の実装
  - プロフィール画像アップロード
  - 投稿画像アップロード
  - 画像リサイズ・最適化
- [ ] メール機能の実装
  - メール通知（新着コメント・メッセージ）
  - パスワードリセット機能
  - メール認証

#### 3. 改善・最適化

- [ ] ユーザーフィードバック収集
- [ ] UI/UX改善
- [ ] パフォーマンス最適化
- [ ] セキュリティ強化

### 長期目標（6ヶ月以上）

#### 1. スケーラビリティ

- [ ] サーバー容量の拡張検討
- [ ] データベース最適化
- [ ] CDN導入検討
- [ ] キャッシュ戦略の実装

#### 2. 新機能開発

- [ ] AI回答機能の強化
- [ ] 動画共有機能
- [ ] イベント機能の拡充
- [ ] マッチング機能
- [ ] ライブストリーミング

#### 3. 多大学展開

- [ ] 他大学への展開
- [ ] パートナーシップ構築
- [ ] ブランディング強化
- [ ] 多言語対応の拡充（中国語、韓国語など）

#### 4. モバイルアプリ開発

- [ ] iOSアプリの開発
- [ ] Androidアプリの開発
- [ ] プッシュ通知機能

---

## 📊 プロジェクト統計

### 開発進捗

- **MVP機能**: 100% 完了 ✅
- **追加機能**: 0% （実装予定）
- **レンタルサーバー移行**: 0% （準備中）

### 技術スタック

- **フロントエンド**: Next.js 14 + TypeScript + Tailwind CSS
- **バックエンド**: Next.js API Routes + Supabase
- **データベース**: PostgreSQL（Supabase経由）
- **認証**: Supabase Auth
- **デプロイ**: Vercel（現在）→ レンタルサーバー（移行予定）

---

## 📝 まとめ

RyugakuTalkは、留学コミュニティの形成と安全な情報共有を目的とした包括的なプラットフォームです。個人アカウントから組織アカウントまで、様々なユーザータイプに対応し、投稿、コミュニティ、AI支援、安否確認など、多様な機能を提供しています。

### 主要な特徴

1. **多様なアカウントタイプ**: 個人、教育機関、企業、政府機関
2. **視覚的な情報発見**: 地図上での投稿可視化
3. **コミュニティ形成**: 地域・大学・目的別のコミュニティ
4. **AI支援**: 日記作成や質問サポート
5. **安全機能**: 安否確認システム
6. **リアルタイム通信**: チャット、通知の即座の更新

### 今後の展望

短期ではレンタルサーバーへの移行と正式リリースを目指し、中期ではユーザー獲得と機能拡張、長期では多大学展開と新機能開発を計画しています。留学コミュニティの未来を築くプラットフォームとして、継続的な改善と拡張を進めていきます。

---

**最終更新**: 2024年  
**バージョン**: 1.0  
**ステータス**: MVP完成 → 本番環境移行準備中

