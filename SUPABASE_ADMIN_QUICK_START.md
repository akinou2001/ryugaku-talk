# Supabaseアカウント管理 - クイックスタート

## 🚀 5分で始める

### ステップ1: データベーススキーマの適用

Supabaseダッシュボードで以下を実行：

1. Supabaseダッシュボードにログイン
2. 「SQL Editor」を開く
3. `supabase-schema-admin.sql` の内容をコピー&ペースト
4. 「Run」をクリック

### ステップ2: 最初の管理者を作成

#### 方法A: 既存ユーザーを管理者にする

```sql
-- メールアドレスを指定
UPDATE profiles 
SET is_admin = TRUE 
WHERE email = 'your-admin-email@example.com';
```

#### 方法B: Supabaseダッシュボードから

1. 「Table Editor」→ `profiles`テーブル
2. 管理者にしたいユーザーを検索
3. `is_admin`カラムを`true`に変更
4. 保存

### ステップ3: 管理者ダッシュボードにアクセス

1. 管理者アカウントでログイン
2. ヘッダーのユーザーメニューから「管理者ダッシュボード」をクリック
3. または `/admin` に直接アクセス

## ✅ 確認事項

- [ ] `supabase-schema-admin.sql` を実行した
- [ ] 管理者アカウントの `is_admin` が `true` になっている
- [ ] 管理者としてログインできている
- [ ] `/admin` にアクセスできる

## 🎯 主な機能

### 統計情報
- ユーザー数、投稿数、コメント数などの統計を確認

### 認証申請管理
- 組織アカウントの認証申請を承認・拒否

### ユーザー管理
- ユーザー一覧の閲覧・検索・フィルタリング

## 📝 よくある質問

**Q: 管理者ダッシュボードにアクセスできない**
A: `is_admin`が`true`に設定されているか確認してください。

**Q: 認証申請が表示されない**
A: `organization_verification_requests`テーブルが作成されているか確認してください。

**Q: 統計情報が表示されない**
A: ビューが作成されていない場合、自動的に個別取得されます。問題が続く場合は、SQLエディタで`admin_stats`ビューを確認してください。

