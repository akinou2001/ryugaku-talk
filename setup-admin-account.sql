-- 管理者アカウントの設定方法
-- 
-- このスクリプトは、既存のユーザーを管理者に設定するためのものです。
-- SupabaseダッシュボードのSQL Editorで実行してください。

-- ============================================
-- 方法1: 既存のユーザーを管理者に設定
-- ============================================
-- 以下のSQLで、指定したユーザーID（またはメールアドレス）を管理者に設定できます

-- ユーザーIDで指定する場合
UPDATE profiles
SET is_admin = true
WHERE id = 'ユーザーIDをここに記入';

-- メールアドレスで指定する場合
UPDATE profiles
SET is_admin = true
WHERE email = 'your-email@example.com';

-- ============================================
-- 方法2: 現在ログインしているユーザーを管理者に設定
-- ============================================
-- 以下のSQLを実行すると、現在ログインしているユーザーが管理者になります
-- （SupabaseダッシュボードのSQL Editorで実行する場合は、auth.uid()は使用できません）

-- 代わりに、以下のように直接ユーザーIDを指定してください：
-- UPDATE profiles SET is_admin = true WHERE id = 'your-user-id-here';

-- ============================================
-- 確認方法
-- ============================================
-- 管理者権限が正しく設定されたか確認するには、以下のSQLを実行してください：

SELECT id, email, name, is_admin, account_type
FROM profiles
WHERE is_admin = true;

-- ============================================
-- 注意事項
-- ============================================
-- 1. 管理者権限を設定した後、一度ログアウトして再ログインしてください
-- 2. 管理者ダッシュボードは /admin にアクセスできます
-- 3. 管理者権限を持つユーザーは、組織認証申請を承認/拒否できます





